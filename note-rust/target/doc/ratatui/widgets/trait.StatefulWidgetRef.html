<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A `StatefulWidgetRef` is a trait that allows rendering a stateful widget by reference."><title>StatefulWidgetRef in ratatui::widgets - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-916cea96.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="ratatui" data-themes="" data-resource-suffix="" data-rustdoc-version="1.87.0 (17067e9ac 2025-05-09)" data-channel="1.87.0" data-search-js="search-e7298875.js" data-settings-js="settings-d72f25bb.js" ><script src="../../static.files/storage-82c7156e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-fb8c74a8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="icon" href="https://raw.githubusercontent.com/ratatui/ratatui/main/assets/favicon.ico"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../ratatui/index.html"><img src="https://raw.githubusercontent.com/ratatui/ratatui/main/assets/logo.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../ratatui/index.html"><img src="https://raw.githubusercontent.com/ratatui/ratatui/main/assets/logo.png" alt="logo"></a><h2><a href="../../ratatui/index.html">ratatui</a><span class="version">0.29.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Stateful<wbr>Widget<wbr>Ref</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#examples" title="Examples">Examples</a></li><li><a href="#stability" title="Stability">Stability</a></li></ul><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.State" title="State">State</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.render_ref" title="render_ref">render_ref</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In ratatui::<wbr>widgets</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">ratatui</a>::<wbr><a href="index.html">widgets</a></div><h1>Trait <span class="trait">StatefulWidgetRef</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/ratatui/widgets.rs.html#436-444">Source</a> </span></div><pre class="rust item-decl"><code>pub trait StatefulWidgetRef {
    type <a href="#associatedtype.State" class="associatedtype">State</a>;

    // Required method
    fn <a href="#tymethod.render_ref" class="fn">render_ref</a>(&amp;self, area: <a class="struct" href="../layout/struct.Rect.html" title="struct ratatui::layout::Rect">Rect</a>, buf: &amp;mut <a class="struct" href="../buffer/struct.Buffer.html" title="struct ratatui::buffer::Buffer">Buffer</a>, state: &amp;mut Self::<a class="associatedtype" href="trait.StatefulWidgetRef.html#associatedtype.State" title="type ratatui::widgets::StatefulWidgetRef::State">State</a>);
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A <code>StatefulWidgetRef</code> is a trait that allows rendering a stateful widget by reference.</p>
<p>This is the stateful equivalent of <code>WidgetRef</code>. It is useful when you want to store a reference
to a stateful widget and render it later. It also allows you to render boxed stateful widgets.</p>
<p>This trait was introduced in Ratatui 0.26.0 and is implemented for all the internal stateful
widgets. It is currently marked as unstable as we are still evaluating the API and may make
changes in the future. See <a href="https://github.com/ratatui/ratatui/issues/1287">https://github.com/ratatui/ratatui/issues/1287</a> for more
information.</p>
<p>A blanket implementation of <code>StatefulWidget</code> for <code>&amp;W</code> where <code>W</code> implements <code>StatefulWidgetRef</code>
is provided.</p>
<p>See the documentation for <a href="trait.WidgetRef.html" title="trait ratatui::widgets::WidgetRef"><code>WidgetRef</code></a> for more information on boxed widgets.
See the documentation for <a href="trait.StatefulWidget.html" title="trait ratatui::widgets::StatefulWidget"><code>StatefulWidget</code></a> for more information on stateful widgets.</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ratatui::{
    buffer::Buffer,
    layout::Rect,
    style::Stylize,
    text::Line,
    widgets::{StatefulWidget, StatefulWidgetRef, Widget},
};

<span class="kw">struct </span>PersonalGreeting;

<span class="kw">impl </span>StatefulWidgetRef <span class="kw">for </span>PersonalGreeting {
    <span class="kw">type </span>State = String;
    <span class="kw">fn </span>render_ref(<span class="kw-2">&amp;</span><span class="self">self</span>, area: Rect, buf: <span class="kw-2">&amp;mut </span>Buffer, state: <span class="kw-2">&amp;mut </span><span class="self">Self</span>::State) {
        Line::raw(<span class="macro">format!</span>(<span class="string">"Hello {}"</span>, state)).render(area, buf);
    }
}

<span class="kw">impl </span>StatefulWidget <span class="kw">for </span>PersonalGreeting {
    <span class="kw">type </span>State = String;
    <span class="kw">fn </span>render(<span class="self">self</span>, area: Rect, buf: <span class="kw-2">&amp;mut </span>Buffer, state: <span class="kw-2">&amp;mut </span><span class="self">Self</span>::State) {
        (<span class="kw-2">&amp;</span><span class="self">self</span>).render_ref(area, buf, state);
    }
}

<span class="kw">fn </span>render(area: Rect, buf: <span class="kw-2">&amp;mut </span>Buffer) {
    <span class="kw">let </span>widget = PersonalGreeting;
    <span class="kw">let </span><span class="kw-2">mut </span>state = <span class="string">"world"</span>.to_string();
    widget.render(area, buf, <span class="kw-2">&amp;mut </span>state);
}</code></pre></div>
<h2 id="stability"><a class="doc-anchor" href="#stability">§</a>Stability</h2>
<p><strong>This API is marked as unstable</strong> and is only available when the <code>unstable-widget-ref</code>
crate feature is enabled. This comes with no stability guarantees, and could be changed
or removed at any time.</p>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.State" class="method"><a class="src rightside" href="../../src/ratatui/widgets.rs.html#440">Source</a><h4 class="code-header">type <a href="#associatedtype.State" class="associatedtype">State</a></h4></section></summary><div class="docblock"><p>State associated with the stateful widget.</p>
<p>If you don’t need this then you probably want to implement <a href="trait.WidgetRef.html" title="trait ratatui::widgets::WidgetRef"><code>WidgetRef</code></a> instead.</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.render_ref" class="method"><a class="src rightside" href="../../src/ratatui/widgets.rs.html#443">Source</a><h4 class="code-header">fn <a href="#tymethod.render_ref" class="fn">render_ref</a>(&amp;self, area: <a class="struct" href="../layout/struct.Rect.html" title="struct ratatui::layout::Rect">Rect</a>, buf: &amp;mut <a class="struct" href="../buffer/struct.Buffer.html" title="struct ratatui::buffer::Buffer">Buffer</a>, state: &amp;mut Self::<a class="associatedtype" href="trait.StatefulWidgetRef.html#associatedtype.State" title="type ratatui::widgets::StatefulWidgetRef::State">State</a>)</h4></section></summary><div class="docblock"><p>Draws the current state of the widget in the given buffer. That is the only method required
to implement a custom stateful widget.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-StatefulWidgetRef-for-List%3C'_%3E" class="impl"><a class="src rightside" href="../../src/ratatui/widgets/list/rendering.rs.html#41-142">Source</a><a href="#impl-StatefulWidgetRef-for-List%3C'_%3E" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.StatefulWidgetRef.html" title="trait ratatui::widgets::StatefulWidgetRef">StatefulWidgetRef</a> for <a class="struct" href="struct.List.html" title="struct ratatui::widgets::List">List</a>&lt;'_&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.State-1" class="associatedtype trait-impl"><a class="src rightside" href="../../src/ratatui/widgets/list/rendering.rs.html#42">Source</a><a href="#associatedtype.State-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.State" class="associatedtype">State</a> = <a class="struct" href="struct.ListState.html" title="struct ratatui::widgets::ListState">ListState</a></h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-StatefulWidgetRef-for-Table%3C'_%3E" class="impl"><a class="src rightside" href="../../src/ratatui/widgets/table/table.rs.html#779-824">Source</a><a href="#impl-StatefulWidgetRef-for-Table%3C'_%3E" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.StatefulWidgetRef.html" title="trait ratatui::widgets::StatefulWidgetRef">StatefulWidgetRef</a> for <a class="struct" href="struct.Table.html" title="struct ratatui::widgets::Table">Table</a>&lt;'_&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.State-2" class="associatedtype trait-impl"><a class="src rightside" href="../../src/ratatui/widgets/table/table.rs.html#780">Source</a><a href="#associatedtype.State-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.State" class="associatedtype">State</a> = <a class="struct" href="struct.TableState.html" title="struct ratatui::widgets::TableState">TableState</a></h4></section></div></details></div><script src="../../trait.impl/ratatui/widgets/trait.StatefulWidgetRef.js" async></script></section></div></main></body></html>